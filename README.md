# DTF (Digital Transformation Flow) 시각화 도구

비즈니스 프로세스와 액티비티를 시각화하고 관계를 분석하는 웹 애플리케이션입니다.

## 주요 기능

### 📊 프로세스 시각화
- **L5 프로세스 그래프**: 비즈니스 프로세스 간의 선행/후행 관계를 시각적으로 표현
- **L6 액티비티 그래프**: 세부 액티비티 간의 관계를 상세하게 표시
- **카테고리별 색상 구분**: L4 카테고리에 따라 노드를 다른 색상으로 표시
- **인터랙티브 그래프**: 노드 드래그, 줌, 패닝 기능 지원

### 🔍 필터링 및 검색
- **팀 필터**: 특정 팀의 프로세스만 선택하여 표시
- **텍스트 검색**: 프로세스 이름으로 검색하여 하이라이트 표시
- **L5 필터링 모드**: 선택한 L5 프로세스와 관련된 선행/후행 프로세스만 표시

### 💡 상세 정보 툴팁
- **자동 위치 조정**: 화면 밖으로 나가지 않도록 툴팁 위치 자동 조정
- **리소스 정보**: 필요인력, 필요기간, MM(Man-Month), 누적 MM
- **프로세스 정보**: 정의, 프로세스 오너부서, 산출물, 준수지표 등
- **관계 정보**: 선행/후행 프로세스, 양방향 연결 경고
- **태그 표시**: 파이프(|)로 구분된 값을 태그 형태로 표시

### ⚠️ 검증 및 오류 탐지
- **누락된 선행/후행**: 참조되지만 존재하지 않는 프로세스 탐지
- **양방향 오류**: 서로를 선행/후행으로 참조하는 순환 관계 탐지
- **대소문자 오류**: ID 입력 시 대소문자가 다른 경우 탐지
- **선행/후행 불일치**: A의 후행이 B인데 B의 선행에 A가 없는 경우 탐지
- **Self-Loop 오류**: 자기 자신을 선행/후행으로 참조하는 경우 탐지
- **입력 누락**: 선행/후행이 비어있지만 다른 프로세스에서 참조되는 경우 탐지

### 📈 MM 테이블
- **시작 노드 분석**: 선행이 없는 시작 노드들의 MM 정보 표시
- **누적 MM**: 각 프로세스의 누적 MM 계산
- **정렬 기능**: 각 컬럼별 오름차순/내림차순 정렬

## 사용 방법

### 1. 엑셀 파일 업로드

1. 좌측 상단의 **"Excel 파일 선택"** 버튼 클릭
2. DTF 양식에 맞는 엑셀 파일 선택
3. 자동으로 파일이 파싱되고 그래프가 생성됩니다

#### 엑셀 파일 형식
- **1행**: 타이틀 (무시됨)
- **2행**: 컬럼명 (헤더)
- **3행 이후**: 데이터

#### 필수 컬럼
- `Level (*)`: L5 또는 L6
- `L1`, `L2`, `L3`, `L4`: 상위 분류
- `L5`: L5 프로세스 ID
- `L6`: L6 액티비티 ID (Level이 L6인 경우)
- `필요인력`, `필요기간`, `MM`: 리소스 정보
- `정의`: 프로세스 설명

#### L5 관계 컬럼
- `선행 프로세스(L5)`: 선행 프로세스 ID (파이프로 구분)
- `후행 프로세스(L5)`: 후행 프로세스 ID (파이프로 구분)

#### L6 관계 컬럼
- `후행 액티비티(L6)`: 후행 액티비티 ID (파이프로 구분)
- `L6의 선행 L5`: L6가 참조하는 선행 L5 ID
- `L6의 후행 L5`: L6가 참조하는 후행 L5 ID

### 2. 그래프 보기

#### L5 프로세스 그래프
- **기본 뷰**: 모든 L5 프로세스와 관계 표시
- **노드 클릭**: 해당 프로세스의 L6 액티비티로 이동
- **색상**: L4 카테고리별로 자동 할당

#### L6 액티비티 그래프
- **L5 선택 후 표시**: 특정 L5의 하위 L6 액티비티 표시
- **뒤로가기**: 좌측 상단 버튼으로 L5 그래프로 복귀

### 3. 필터 사용

#### 팀 필터
1. 우측 상단의 **팀 선택** 드롭다운 클릭
2. 원하는 팀 선택 (여러 개 선택 가능)
3. **적용** 버튼 클릭
4. 선택한 팀의 프로세스만 표시됩니다

#### 텍스트 검색
1. 우측 상단 검색창에 검색어 입력
2. 일치하는 노드가 하이라이트 표시됩니다
3. 대소문자 구분 없이 검색됩니다

#### L5 필터링 모드
1. L5 그래프에서 노드를 **더블클릭**
2. 해당 노드와 직접 연결된 선행/후행만 표시
3. 엣지에 애니메이션 효과 적용
4. **전체 보기** 버튼으로 전체 그래프 복원

### 4. 오류 리포트 확인

1. 우측 상단의 **에러 리포트** 탭 클릭
2. 검증 오류 목록 확인:
   - **대소문자 오류** (파란색): ID 입력 시 대소문자 불일치
   - **누락된 선행** (주황색): 참조되지만 존재하지 않는 선행 프로세스
   - **누락된 후행** (보라색): 참조되지만 존재하지 않는 후행 프로세스
   - **양방향 오류** (빨간색): 순환 관계
   - **선행/후행 불일치** (분홍색): 관계 정보 불일치
   - **입력 누락** (노란색): 선행/후행이 비어있지만 참조됨
   - **Self-Loop 오류** (노란색): 자기 자신을 참조
3. 오류 행 클릭 시 해당 프로세스로 자동 이동

### 5. MM 테이블

1. 우측 상단의 **MM 테이블** 탭 클릭
2. 시작 노드(선행이 없는 노드)의 정보 확인
3. 컬럼 헤더 클릭으로 정렬
4. 누적 MM으로 프로젝트 규모 파악

### 6. 그래프 조작

- **줌**: 마우스 휠 스크롤
- **패닝**: 빈 영역 드래그
- **노드 이동**: 노드를 드래그하여 위치 조정
- **툴팁**: 노드에 마우스 오버 시 상세 정보 표시
- **더블클릭**: L5 그래프에서 필터링 모드 진입

## 데이터 특징

### 양방향 관계 동기화
- A의 후행에 B가 있으면 → B의 선행에 자동으로 A 추가
- A의 선행에 B가 있으면 → B의 후행에 자동으로 A 추가
- 한쪽만 입력해도 완전한 관계 그래프 생성

### 파이프 구분 값
여러 값을 파이프(|)로 구분하여 입력 가능:
- `선행 프로세스(L5)`: `A1.1|A1.2|A1.3`
- `작업방식(L6)`: `회의|email|시스템`
- 툴팁에서 태그 형태로 표시됩니다

### L6 ID 형식
- L6 ID는 내부적으로 `L5ID::L6ID` 형식으로 저장
- 툴팁에서는 L6ID 부분만 표시하여 가독성 향상

## 기술 스택

- **Frontend**: Next.js 15, React 19, TypeScript
- **그래프**: React Flow
- **스타일링**: Tailwind CSS, DaisyUI
- **엑셀 파싱**: SheetJS (xlsx)
- **상태 관리**: Zustand

## 브라우저 지원

- Chrome (권장)
- Firefox
- Safari
- Edge

## 문제 해결

### 그래프가 표시되지 않는 경우
1. 엑셀 파일 형식 확인 (2행이 헤더, 3행부터 데이터)
2. 필수 컬럼이 모두 있는지 확인
3. Level 컬럼에 L5 또는 L6 값이 있는지 확인

### 노드가 겹쳐서 보이는 경우
1. 노드를 드래그하여 재배치
2. 줌 아웃하여 전체 구조 파악
3. L5 필터링 모드로 관련 노드만 보기

### 오류가 너무 많이 나오는 경우
1. 대소문자 일관성 확인
2. 선행/후행 ID가 실제로 존재하는지 확인
3. 양방향 관계는 한쪽만 입력해도 됨 (자동 동기화)

## 라이선스

이 프로젝트는 비공개 프로젝트입니다.
