# DTF Process Viewer

엑셀 파일을 읽어서 ReactFlow로 프로세스 흐름을 시각화하는 웹 애플리케이션입니다.

## 주요 기능

### 1. Workflow 그래프
- **L5 그래프**: 전체 L5 프로세스 흐름 시각화
  - 노드 클릭: 해당 노드와 관련된 선행/후행 노드만 필터링하여 표시
  - 노드 더블클릭: L6 상세 뷰로 전환
  - L4 카테고리별 색상 구분
  - 최종 노드(후행이 없는 노드)의 누적 MM 표시
  - 양방향 연결 에러 감지 및 표시 (⚠️)

- **L6 그래프**: 선택된 L5의 L6 액티비티 상세 흐름
  - L6 간의 연결 관계 표시
  - 관련 선행/후행 L5 노드 표시 (반투명)

### 2. MM 요약 테이블
- **L5 MM 요약**: 모든 L5 task를 MM 기준으로 내림차순 정렬
  - 행 클릭: 해당 L5의 L6 상세 뷰로 이동

- **최종 노드 MM 요약**: 후행이 없는 최종 노드들의 누적 MM 정렬
  - 행 클릭: 해당 노드까지의 전체 workflow 하이라이트

### 3. 데이터 구조
- **L4**: 카테고리 (예: [Planning]기획, [Design]설계, [Development]개발, [Testing]테스트, [Deployment]배포)
- **L5**: 상위 프로세스
- **L6**: 하위 액티비티
- 각 노드는 P(필요인력), T(필요기간), MM(P*T) 정보를 포함

## 설치 및 실행

```bash
cd my-app
npm install
npm run dev
```

브라우저에서 http://localhost:3000 접속

## 엑셀 파일 형식

샘플 파일: `sample_data.csv`

### 필수 컬럼
- `작성팀 (일자)`: 작성 팀 및 일자
- `Level(*)`: "L4" | "L5" | "L6"
- `L4`: 카테고리 ([Prefix]형식으로 작성, prefix는 표시 시 제거됨)
- `L5`: L5 프로세스 이름
- `L6`: L6 액티비티 이름
- `필요인력`: 필요 인력 수
- `필요기간`: 필요 기간 (주 단위)
- `MM`: 필요인력 × 필요기간

### L5 관련 컬럼
- `선행 프로세스(L5)`: L5 이름 (여러 개일 경우 `|`로 구분)
- `후행 프로세스(L5)`: L5 이름 (여러 개일 경우 `|`로 구분)

### L6 관련 컬럼
- `후행 액티비티(L6)`: L6 이름 (여러 개일 경우 `|`로 구분)
- `L6의 선행 L5`: L5 이름 (여러 개일 경우 `|`로 구분)
- `L6의 후행 L5`: L5 이름 (여러 개일 경우 `|`로 구분)

## 기술 스택

- **Next.js 15**: React 프레임워크
- **TypeScript**: 타입 안정성
- **Tailwind CSS**: 스타일링
- **ReactFlow**: 그래프 시각화
- **Zustand**: 상태 관리
- **XLSX**: 엑셀 파일 파싱
- **Dagre**: 그래프 레이아웃

## 프로젝트 구조

```
my-app/
├── app/
│   └── page.tsx              # 메인 페이지
├── components/
│   ├── TaskNode.tsx          # 커스텀 노드 컴포넌트
│   ├── L5FlowGraph.tsx       # L5 그래프 컴포넌트
│   ├── L6FlowGraph.tsx       # L6 그래프 컴포넌트
│   ├── MMSummaryTable.tsx    # MM 요약 테이블
│   └── FileUploader.tsx      # 파일 업로드 컴포넌트
├── lib/
│   └── store.ts              # Zustand 상태 관리
├── types/
│   └── task.ts               # 타입 정의
└── utils/
    ├── excelParser.ts        # 엑셀 파싱 로직
    └── colors.ts             # 색상 유틸리티
```

## 사용 방법

1. 앱 실행 후 "엑셀 파일 업로드" 버튼 클릭
2. 엑셀 또는 CSV 파일 선택
3. Workflow 그래프 탭에서 프로세스 흐름 확인
4. 노드 클릭/더블클릭으로 상세 정보 탐색
5. MM 요약 탭에서 리소스 분석
